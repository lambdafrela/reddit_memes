# lambda :heart: reddit memes

## —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–î–µ–ª–∞–µ–º —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∫–ª–æ–Ω–∏—Ä—É–µ–º –µ–≥–æ —Å–µ–±–µ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä

![–î–µ–ª–∞–µ–º —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∫–ª–æ–Ω–∏—Ä—É–µ–º —Å–µ–±–µ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä](https://d2mxuefqeaa7sj.cloudfront.net/s_36C879BF38C20118231697B90870B913882B12CB62B637757FB6649963FEE2DE_1513025120577_firefox_2017-12-11_23-44-53.png)

## —Å–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é](https://docs.python.org/3/library/venv.html#creating-virtual-environments) –∫ —ç—Ç–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø—Ä–∏–º–µ—Ä–æ–º –Ω–∏–∂–µ

```bash
python3 -m venv /path/to/new/virtual/environment
source /path/to/new/virtual/environment/bin/activate # –µ—Å–ª–∏ —É –≤–∞—Å –ª–∏–Ω—É–∫—Å—ã
C:\path\to\new\virtual\environment\Scrpits\activate.bat # –µ—Å–ª–∏ —à–∏–Ω–¥–æ–≤—Å
```

## —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

```bash
pip install -r requirements.txt
```

## –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–¥–¥–∏—Ç–µ + —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å—Ç–æ–≤

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É `praw` . –° –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –º–æ–∂–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è [—Ç—É—Ç](https://praw.readthedocs.io/en/latest/index.html), –Ω–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤—Å–µ–≥–æ –¥–≤–µ-—Ç—Ä–∏ –∫–æ–º–∞–Ω–¥—ã.

–ù—É–∂–Ω–æ –∏–º–µ—Ç—å –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [reddit.com](https://www.reddit.com/), –≤ [–Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π](https://www.reddit.com/prefs/apps/) —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∑–∞–ø–∏—Å–∞—Ç—å:

  - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `user_agent`
  - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á `client_secret`
  - ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `client_id`

–ò–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É @Timur M

–í—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏ –Ω–∞–¥–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ —Ñ–∞–π–ª `praw.ini`. –ú—ã –∑–Ω–∞–µ–º, —á—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî –≤ –≤—ã—Å—à–µ–π —Å—Ç–µ–ø–µ–Ω–∏ –ø–ª–æ—Ö–æ, –ø–æ—ç—Ç–æ–º—É –æ—Å–æ–±–æ —Ä–µ—Ç–∏–≤—ã–µ –º–æ–≥—É—Ç –∑–∞–ø–∏—Ö–∞—Ç—å –∏—Ö –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –µ—Å–ª–∏ –æ–∑–Ω–∞–∫–æ–º—è—Ç—Å—è —Å [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π](https://praw.readthedocs.io/en/latest/getting_started/configuration/environment_variables.html).

## –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –≤–∫

–°–¥–µ–ª–∞—Ç—å —Å–µ–±–µ API –∫–ª—é—á, –ø–æ–ª—å–∑—É—è—Å—å [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π](https://habrahabr.ru/post/327216/), –Ω–æ –ª—É—á—à–µ –ø–æ–ø—Ä–æ—Å–∏—Ç—å –≥–æ—Ç–æ–≤—ã–µ (–ø—Ä–æ—â–µ). –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–¥–∞—é—Ç—Å—è –≤ —Ç–æ–º –∂–µ `praw.ini` –∏–ª–∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç—É—Ç –ø—Ä–æ—â–µ.

## —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è:

  - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å –Ω–∞ —á—Ç–µ–Ω–∏–µ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —Å—Å—ã–ª–∫–µ –∏–∑ –ø–æ—Å—Ç–∞
  - –≤—ã–Ω–∏–º–∞–µ—Ç –∏–∑ —Å—Å—ã–ª–∫–∏ –∏–º—è —Ñ–∞–π–ª–∞
  - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω–∏–∫ –∏ –∏–º—è —Ñ–∞–π–ª–∞. –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä `yield`, –æ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å [—Ç—É—Ç](https://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do) –∏ [—Ç—É—Ç (–Ω–∞ —Ä—É—Å—Å–∫–æ–º)](https://habrahabr.ru/post/132554/)
## –ø–æ—Å—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å –ø–æ–¥–ø–∏—Å—å—é –≤ –≤–∫

–û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–∏—Å–∞—Ç—å –ø–æ–¥ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π

```python
if __name__ == "__main__":
    # here comes the code
```

[—Ç—É—Ç —Ö–æ—Ä–æ—à–µ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –ø–æ—á–µ–º—É.](https://stackoverflow.com/questions/419163/what-does-if-name-main-do)

–î–ª—è –Ω–∞—à–∏—Ö —Å–∫—Ä–æ–º–Ω—ã—Ö –Ω—É–∂–¥ —Ç—Ä–µ–±—É–µ—Ç—Å—è:

  1. –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∞–±—Ä–µ–¥–¥–∏—Ç—É –Ω–∞ –≤–∞—à –≤–∫—É—Å (–º—ã –ª—é–±–∏–º /r/ProgrammerHumor)
  2. –≤—ã–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–∞–º—ã—Ö –≥–æ—Ä—è—á–∏—Ö –ø–æ—Å—Ç–æ–≤ (–∏–ª–∏ —Å–∞–º—ã—Ö –ø–æ—Å–ª–µ–¥–Ω–∏—Ö)
  3. –ø–µ—Ä–µ–º–µ—à–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –≤–∑—è—Ç—å —Å–ª—É—á–∞–π–Ω—ã–π –µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç
  4. —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ —ç—Ç–æ–º –ø–æ—Å—Ç–µ –µ—Å—Ç—å —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è)
  5. –µ—Å–ª–∏ –∑–≤–µ–∑–¥—ã —Å–æ–≤–ø–∞–ª–∏ ‚Äî —Å–æ–∑–¥–∞–µ–º —Å–ª–æ–≤–∞—Ä—å –≤ –∫–æ—Ç–æ—Ä–º –∫–ª—é—á - –∏–º—è —Ñ–∞–π–ª–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ - –±–∏–Ω–∞—Ä–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
  6. –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–∫, –∏—Å–ø–æ–ª—å–∑—É—è —Ñ—É–Ω–∫—Ü–∏—é `photos = vk.Photo.upload_wall_photos_for_groups(group_id, attachments.items())` (—Å–∞–º–∏ –≤ —à–æ–∫–µ –æ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏)
  7. —Å–æ–∑–¥–∞–µ–º –ø–æ—Å—Ç –Ω–∞ —Å—Ç–µ–Ω–µ —Ñ—É–Ω–∫—Ü–∏–µ–π `wall_post()`

## —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ heroku

![–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://d2mxuefqeaa7sj.cloudfront.net/s_36C879BF38C20118231697B90870B913882B12CB62B637757FB6649963FEE2DE_1513024977075_firefox_2017-12-11_20-36-12.png)
![–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](https://d2mxuefqeaa7sj.cloudfront.net/s_36C879BF38C20118231697B90870B913882B12CB62B637757FB6649963FEE2DE_1513024977237_firefox_2017-12-11_20-36-43.png)

![–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](https://d2mxuefqeaa7sj.cloudfront.net/s_36C879BF38C20118231697B90870B913882B12CB62B637757FB6649963FEE2DE_1513024977675_firefox_2017-12-11_23-41-53.png)
![–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–º Github](https://d2mxuefqeaa7sj.cloudfront.net/s_36C879BF38C20118231697B90870B913882B12CB62B637757FB6649963FEE2DE_1513024977607_firefox_2017-12-11_20-37-21.png)

## –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏

–ö–æ–≥–¥–∞ –≤—Ä—É—á–Ω—É—é –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–∞—Å—Ç—É–ø–∞–µ—Ç –≤—Ä–µ–º—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏!

–î–ª—è —ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π [APScheduler](https://devcenter.heroku.com/articles/clock-processes-python). –ü–µ—Ä–µ–Ω–µ—Å–∏ –∫–æ–¥ –∏–∑ —Å–µ–∫—Ü–∏–∏ `if __name__ == __main__` –≤ —Ñ—É–Ω–∫—Ü–∏—é `post_to_vk()`, –ª–∏—à–Ω–µ–µ —É–¥–∞–ª–∏. –†–∞–∑–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –∑–∞–ø—É—Å–∫ –ø–æ —Ç–∞–π–º–µ—Ä—É —Ç–∏–ø–∞ `cron`. –ù–∞—Å—Ç—Ä–æ–π –≤—Ä–µ–º—è, –≤ –∫–æ—Ç–æ—Ä–æ–µ —Ç—ã –±—ã —Ö–æ—Ç–µ–ª –¥–µ–ª–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã.

## —Ñ–∞–π–ª—ã, –Ω—É–∂–Ω—ã–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ heroku –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Heroku –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤:

- `requirements.txt` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—É–∂–µ –≤—Ö–æ–¥—è—Ç –≤ –∫–æ–º–ø–ª–µ–∫—Ç)
- `Procfile` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ–º—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- `runtime.txt` ‚Äî –∑–∞–¥–∞–µ—Ç –≤–µ—Ä—Å–∏—é Python –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í–µ—Ä—Å–∏—é Python –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—É—é —Å–≤–µ–∂—É—é, `python-3.6.3`. –í `Procfile` –ø–∏—à–µ–º:

```
clock: python main.py
```


–≠—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å `clock` –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É `python main.py`

–ó–∞–ª–∏–≤–∞–µ–º –Ω–∞—à –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –¥–æ–ª–∂–Ω–∞ –Ω–∞—á–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## üëå

